package misc

import (
	"fmt"
	"testing"
)

func TestNumMovesStonesII(t *testing.T) {
	equal := func(a, b []int) bool {
		if len(a) != len(b) {
			return false
		}
		for i, v := range a {
			if b[i] != v {
				return false
			}
		}
		return true
	}
	a := numMovesStonesII([]int{7, 4, 9})
	fmt.Println(a)
	if !equal(a, []int{1, 2}) {
		t.FailNow()
	}

	a = numMovesStonesII([]int{6, 5, 4, 3, 10})
	fmt.Println(a)
	if !equal(a, []int{2, 3}) {
		t.FailNow()
	}

	a = numMovesStonesII([]int{100, 101, 104, 102, 103})
	fmt.Println(a)
	if !equal(a, []int{0, 0}) {
		t.FailNow()
	}

	a = numMovesStonesII([]int{4, 7, 11, 14})
	fmt.Println(a)
	if !equal(a, []int{2, 5}) {
		t.FailNow()
	}

	s := []int{
		828778027, 731906820, 521145342, 514811041, 685812131, 821375712, 174634868, 916502112, 556326313, 619727568, 257937166, 336083140, 545855222, 259868363, 504371822, 942602176, 205376182, 483014752, 413694188, 861697565, 221354250, 886808881, 546686482, 631816693, 425286023, 562412914, 932958751, 371418424, 931530677, 815702126, 292810884, 418441770, 271996306, 209516802, 679845481, 233827299, 12414988, 359966752, 768849193, 693656270, 686741386, 614178126, 713002193, 96143146, 372012644, 33276197, 729150117, 864106892, 449839974, 516913618, 50717084, 917331803, 231002194, 654903191, 94579423, 272352595, 713257051, 281584971, 466223694, 985646595, 27734186, 200832726, 188103931, 304832079, 512640220, 385959351, 851398060, 338633198, 934526850, 333982078, 424126301, 621379052, 160678559, 101829713, 342986172, 738790698, 473812014, 359734123, 425035180, 594221273, 950219418, 986631065, 28573122, 126997251, 585342788, 737448379, 991832779, 751908098, 834544385, 274287433, 662653508, 661084167, 587827353, 783927499, 330713824, 138626964, 918518089, 701366368, 700801286, 989913090, 908619586, 512371256, 498516305, 240635644, 713321512, 878251290, 229648142, 634118658, 512336787, 623622367, 220914369, 291741928, 858322321, 695332085, 237473952, 357348436, 249454882, 166333149, 986908950, 635783747, 960914107, 844685484, 350525762, 505573508, 15349444, 116334478, 515978613, 719426363, 200905754, 234681407, 392234936, 364882272, 899543693, 729598864, 163064388, 839095614, 279496547, 329785064, 424031239, 650898164, 626047955, 493950656, 814511910, 79528183, 472122763, 782925606, 56964469, 439400590, 796825899, 536927803, 241791233, 245677141, 517348040, 218857141, 609098375, 930843323, 863583338, 503855198, 931297274, 869883523, 817547406, 70971539, 202779905, 759996231, 839471268, 369150661, 486325110, 57507312, 193389458, 70285563, 165246952, 370553151, 679179823, 8410191, 305861146, 99285576, 293333449, 748835180, 111100802, 725740274, 878973088, 557114647, 318722506, 361707640, 353274984, 749625507, 453945683, 123927018, 818975947, 474501755, 589771181, 300209325, 590789605, 532552860, 254516769, 959120119, 807822022, 828345111, 287793191, 364404820, 61043700, 820724372, 704257008, 310172708, 789152742, 772523722, 758847709, 803458074, 133179786, 96068360, 936530949, 146405054, 373603007, 973245104, 149487283, 43170796,
	}
	a = numMovesStonesII(s)
	fmt.Println(a)
	if !equal(a, []int{215, 981502685}) {
		t.FailNow()
	}

}
